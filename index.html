<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <title>PDV Pro - Toca do Atleta</title>
    <style>
        body { font-family: 'Segoe UI', sans-serif; margin: 0; display: flex; flex-direction: column; height: 100vh; background: #f0f2f5; }
        .main-container { display: flex; flex: 1; overflow: hidden; }
        .produtos { flex: 2; padding: 20px; overflow-y: auto; border-right: 2px solid #ddd; }
        .sacola { flex: 1; padding: 20px; background: white; display: flex; flex-direction: column; box-shadow: -2px 0 5px rgba(0,0,0,0.1); }
        .historico { padding: 20px; background: #fff; border-top: 5px solid #d32f2f; max-height: 350px; overflow-y: auto; }
        
        h2, h3 { color: #d32f2f; margin-top: 0; }
        input, select { padding: 10px; border: 1px solid #ccc; border-radius: 5px; margin-bottom: 10px; font-size: 14px; }
        
        table { width: 100%; border-collapse: collapse; background: white; margin-bottom: 20px; }
        th, td { padding: 10px; border-bottom: 1px solid #eee; text-align: left; }
        th { background: #d32f2f; color: white; position: sticky; top: 0; z-index: 10; }
        
        .btn-add { background: #2e7d32; color: white; border: none; padding: 8px 15px; border-radius: 4px; cursor: pointer; font-weight: bold; }
        .btn-finalizar { background: #d32f2f; color: white; border: none; padding: 15px; border-radius: 5px; cursor: pointer; font-size: 18px; font-weight: bold; margin-top: 10px; width: 100%; }
        
        .item-sacola { display: flex; justify-content: space-between; align-items: center; padding: 8px 0; border-bottom: 1px dashed #ccc; }
        .btn-remover { background: #ff5252; color: white; border: none; border-radius: 3px; cursor: pointer; padding: 2px 8px; margin-left: 10px; }
        
        .total-box { border-top: 2px solid #eee; padding-top: 15px; }
        .val-final { color: #2e7d32; font-size: 28px; font-weight: bold; }
        
        .acoes-hist { display: flex; gap: 10px; float: right; align-items: center; }
        .btn-exportar { background: #1976d2; color: white; border: none; padding: 8px 12px; border-radius: 4px; cursor: pointer; }
        .btn-recibo-hist { background: #ffa000; color: white; border: none; padding: 4px 8px; border-radius: 3px; cursor: pointer; font-size: 11px; font-weight: bold; }
        
        .resumo-caixa { background: #e8f5e9; padding: 10px; border-radius: 5px; font-weight: bold; color: #2e7d32; border: 1px solid #2e7d32; }
        .tag-pagamento { font-size: 11px; padding: 2px 5px; border-radius: 3px; background: #eee; color: #666; font-weight: bold; }
    </style>
</head>
<body>

<div class="main-container">
    <div class="produtos">
        <h2>Toca do Atleta - Cat√°logo</h2>
        <input type="text" id="busca" onkeyup="filtrar()" placeholder="üîé Buscar produto..." style="width: 95%;">
        <table id="tabela">
            <thead>
                <tr><th>Produto</th><th>Pre√ßo (R$)</th><th>A√ß√£o</th></tr>
            </thead>
            <tbody>
                <tr><td>Whey Protein Max 900g</td><td>149.90</td><td><button class="btn-add" onclick="add('Whey Max', 149.90)">+</button></td></tr>
                <tr><td>Creatina Pura 300g</td><td>89.00</td><td><button class="btn-add" onclick="add('Creatina 300g', 89.00)">+</button></td></tr>
                <tr><td>Camisa Dry Fit (M)</td><td>55.00</td><td><button class="btn-add" onclick="add('Camisa Dry Fit', 55.00)">+</button></td></tr>
            </tbody>
        </table>
    </div>

    <div class="sacola">
        <h2>Sacola</h2>
        <div id="lista-sacola" style="flex-grow: 1; overflow-y: auto;"></div>
        
        <div class="total-box">
            <div style="font-weight: bold;">Subtotal: <span id="subtotal">R$ 0,00</span></div>
            <div style="display: flex; gap: 10px; margin-top: 5px;">
                <div style="flex:1"><label style="font-size:11px">Desc %</label><input type="number" id="desc-porcent" value="0" style="width:100%" oninput="calcularTudo()"></div>
                <div style="flex:1"><label style="font-size:11px">Desc R$ (Cr√©dito)</label><input type="number" id="desc-reais" value="0" style="width:100%" oninput="calcularTudo()"></div>
            </div>
            
            <label>Pagamento:</label>
            <select id="metodo-pagamento" style="width: 100%;">
                <option value="Dinheiro">Dinheiro</option>
                <option value="
